<div data-bind="template : { name :$component.getTemplate()}"></div>

<script type="text/html" id="walletTemplate">
    <!-- ko if: enteredNewPassword -->
    <div class="header">
        <div class="title_primary" data-bind="text:$component.wallet.forgotpasswordtitle"></div>
        <div class="title_secondary" data-bind="text:$component.wallet.enterdetails"></div>
    </div>

    <page-section params="baseModel : $baseModel, rootModel : $data, heading :'' ">
        <div class="section">
            <div class="">
                <div class="oj-flex-item oj-sm-10 oj-md-11 oj-lg-11 wallets-action-label">
                    <oj-label><span data-bind="text:$component.forgotPassword.messages.enterPassword"></span></oj-label>
                </div>
            </div>
            <div class="oj-flex oj-flex-items-pad">
                <div class="oj-flex-item oj-sm-10 oj-md-11 oj-lg-11">
                    <oj-input-password id="newpwd"  autocomplete="off" required value="{{newPassword}}"></oj-input-password>
                    <virtual-keyboard params="{baseModel : $baseModel,value: newPassword, element: 'newpwd'}"></virtual-keyboard>
                </div>
                <div class="oj-flex-item oj-sm-2 oj-md-1 oj-lg-1">
                    <a href="#" data-bind="click:$component.passwordpolicy">
                        <span class="icon icon-help" aria-hidden="true"></span>
                    </a>
                </div>
            </div>

            <div class="">
                <div class="oj-flex-item oj-sm-10 oj-md-11 oj-lg-11  wallets-action-label">
                    <oj-label for="newpwd"><span data-bind="text:$component.forgotPassword.details.reEnterPasswordLabel"></span></oj-label>
                </div>
            </div>
            <div class="oj-flex oj-flex-items-pad">
                <div class="oj-flex-item oj-sm-10 oj-md-11 oj-lg-11">
                    <oj-input-password id="newpwd"  autocomplete="off" required validators="[[[equalToPassword]]]" value="{{confirmPassword}}"></oj-input-password>
                    <virtual-keyboard params="{baseModel : $baseModel,value: confirmPassword, element: 'newpwd'}"></virtual-keyboard>
                </div>
            </div>

            <div class="oj-flex oj-flex-items-pad button-container">
                <div class="oj-flex-item oj-sm-10 oj-md-11 oj-lg-11">
                    <oj-button  class="action-button-primary" on-click="[[reset]]">
                        <span data-bind="text:$component.forgotPassword.buttons.resetButton"></span>
                    </oj-button>
                </div>
                <div class="oj-flex-item oj-sm-10 oj-md-11 oj-lg-11">
                    <oj-button class="action-button-secondary" id="button-cancel" on-click="[[cancel]]">
                        <span data-bind="text:$component.common.cancel"></span>
                    </oj-button>
                </div>
            </div>
        </div>
    </page-section>
    <!-- /ko -->
    <!-- ko if: showConfirmation -->
    <page-section params="baseModel : $baseModel, rootModel : $data, heading :'' ">
        <div class=" section user-confirm-block">
            <div class="success-icon">
                <img data-bind="loadImage:'wallet/wallet-success.png'">
            </div>
            <div>
                <div class="confirmtaion-heading" data-bind="text:$component.forgotPassword.messages.successMessage"></div>
            </div>
            <div class="oj-flex oj-flex-items-pad declaration">
                <div data-bind="text:$component.forgotPassword.messages.confirmationMessage"></div>
            </div>
            <div class="oj-flex oj-flex-items-pad button-container">
                <oj-button id="button" class="action-button-primary" on-click="[[logIn]]">
                    <span data-bind="text:$component.forgotPassword.buttons.logInButton"></span>
                </oj-button>
                <img data-bind="loadImage:'wallet/wallet-tick-white.png'">
            </div>
        </div>
    </page-section>
    <!-- /ko -->
    <!-- ko if: displaypasswordpolicy -->
    <modal-window params="baseModel : $baseModel, rootModel : $data,id:'PasswordPolicy'">

        <div class="">

            <div class="oj-dialog-body">

                <ul>
                    <li data-bind="text:$component.showPasswordRule1"> </li><br>
                    <li data-bind="text:$component.showPasswordRule2"> </li><br>
                    <li data-bind="text:$component.showPasswordRule3"> </li><br>

                </ul>
            </div>



        </div>
    </modal-window>

    <!-- /ko -->
</script>
<div data-bind="descendantsComplete : $component.afterRender.bind($data, $root)">
    
<script type="text/html" id="templateDefault">

    <div class=" form-main-container">
        <!-- ko if: enteredNewPassword -->
        <!-- ko ifnot:  $baseModel.large() -->
        <div class="oj-flex-item oj-lg-5 oj-sm-12">
                    <!-- ko if: $component.displaypasswordpolicy() -->

                
            <div data-bind='component:{name: "password-validation", params:{rootModel:$component,data:$data}}'>
            </div>
                    <!-- /ko -->

        </div>
        <!-- /ko -->
        <page-section params="baseModel : $baseModel, rootModel : $data, heading :'' ">
            <oj-validation-group id="validationTracker">

                <div class="oj-flex oj-flex-items-pad">
                    <div class="oj-flex-item oj-lg-7 oj-sm-12">
                        <div class="oj-flex-item oj-sm-12 oj-md-4 oj-lg-9">
                            <span data-bind="text:$component.nls.forgotPassword.messages.enterPassword"></span><br><br>
                        </div>
                        <div class="oj-flex-item oj-sm-12 oj-md-4 oj-lg-6">
                            <oj-label for="pwd"><span data-bind="text:$component.nls.forgotPassword.details.passwordLabel"></span></oj-label>
                        </div>
                        <div class="oj-flex-item oj-sm-12 oj-md-4 oj-lg-6">
                            <oj-input-password id="pwd"  autocomplete="off" required value="{{newPassword}}"></oj-input-password>
                            <virtual-keyboard params="{baseModel : $baseModel,value: newPassword, element: 'pwd'}"></virtual-keyboard>
                        </div>
                        <br>
                        <div class="oj-flex-item oj-sm-12 oj-md-4 oj-lg-6">
                            <oj-label for="newpwd"><span data-bind="text:$component.nls.forgotPassword.details.reEnterPasswordLabel"></span></oj-label>
                        </div>
                        <div class="oj-flex-item oj-sm-12 oj-md-4 oj-lg-6">
                            <oj-input-password id="newpwd"  autocomplete="off" required validators="[[[equalToPassword]]]" value="{{confirmPassword}}"></oj-input-password>
                            <virtual-keyboard params="{baseModel : $baseModel,value: confirmPassword, element: 'newpwd'}"></virtual-keyboard>
                        </div>
                        <br>
                        <div class="oj-flex oj-flex-items-pad button-container">
                            <oj-button  class="action-button-primary" on-click="[[reset]]">
                                <span data-bind="text:$component.nls.forgotPassword.buttons.resetButton"></span>
                            </oj-button>
                            <oj-button class="action-button-secondary" on-click="[[cancel]]">
                                <span data-bind="text:$component.nls.forgotPassword.buttons.cancelButton"></span>
                            </oj-button>
                        </div>
                    </div>
                    <!-- ko if:  $baseModel.large() && $component.displaypasswordpolicy() -->
                    <div class="oj-flex-item oj-lg-5 oj-sm-12">

                        <div data-bind='component:{name: "password-validation", params:{rootModel:$component,data:$data}}'>
                        </div>

                    </div>
                    <!-- /ko -->
                </div>
            </oj-validation-group>
        </page-section>
        <!-- /ko -->
        <!-- ko if: showConfirmation -->
        <div class="oj-flex-item oj-sm-12 oj-md-12 oj-lg-12">
            <div class="confirm-container">
                <div class="oj-flex-item center ">
                    <div class="oj-flex-item oj-lg-12 oj-md-12 oj-sm-12 video-container">
                        <img class="oj-lg-2 oj-sm-8 oj-md-6" data-bind="loadImage:'password-policy/confirmation.gif'" autoplay loop>

                        <div class="oj-flex-item center create-header">
                            <div class="confirm-text-heading" data-bind="text : $component.nls.forgotPassword.messages.passwordChangeSuccess"></div>
                        </div>
                    </div>
                </div>
                <br>
                <div class="center">
                    <span data-bind="text : $component.nls.forgotPassword.messages.login"></span>
                </div>
                <div class="oj-flex oj-sm-flex-items-initial
                                  oj-lg-justify-content-center oj-sm-justify-content-center">
                    <div class="oj-flex-item button-container oj-lg-justify-content-center">
                        <oj-button  class="action-button-primary" on-click="[[logIn]]">
                            <span data-bind="text:$component.nls.forgotPassword.buttons.logInButton"></span>
                        </oj-button>
                    </div>
                </div>
            </div>
        </div>
        <!-- /ko -->
        <!-- ko if: displaypasswordpolicy -->
        <div data-bind="descendantsComplete : $component.showPasswordPolicy">
        <modal-window params="baseModel : $baseModel, rootModel : $parent,id:'PasswordPolicy'">
            <div class="">
                <div class="oj-dialog-body">
                    <ul>
                        <li data-bind="text:$parent.showPasswordRule1()"> </li>
                        <br>
                        <li data-bind="text:$parent.showPasswordRule2()"> </li>
                        <br>
                        <li data-bind="text:$parent.showPasswordRule3()"> </li>
                        <br>
                    </ul>
                </div>
                <div class="oj-row button-container">
                    <oj-button class="action-button-primary" on-click="[[$parent.okClicked]]">
                        <span data-bind="text:$parent.nls.forgotPassword.buttons.ok"></span>
                    </oj-button>
                </div>
            </div>
        </modal-window>
        </div>
        <!-- /ko -->
    </div>


</script>
</div>
