<!-- ko if: $component.taxResidencyInfoLoaded -->
<div class="oj-flex oj-sm-flex-items-initial oj-sm-justify-content-space-between">
  <div class="oj-flex-item oj-sm-12">
    <page-section params="baseModel : $baseModel, rootModel : $component, heading : ''">
      <div class="row-group">
        <oj-validation-group id="taxResidencyInfoTracker">
          <div class="oj-flex oj-flex-items-pad">
            <div class="oj-flex-item oj-sm-12">
              <oj-label for="taxResidencyQues5" id="taxResidencyQues5Label"><span data-bind="text:$component.resource.taxResidencyInfo.ques5"></span></oj-label>
            </div>
            <div class="oj-flex-item oj-sm-12 oj-lg-12 oj-md-12">
              <oj-radioset class="oj-choice-direction-row" id="taxResidencyQues5" aria-labelledby="taxResidencyQues5Label" value="{{$component.fatcaComplianceData.taxResidencyInfoDTO.domesticEntity}}" translations="[[{'required':{messageDetail:$component.resource.messages.domesticTaxResident}}]]" on-value-changed="[[$component.taxResidentOtherCountryChanged]]">
                <oj-option id="yesQues5" value="false"><span data-bind="text:$component.resource.generic.common.yes"></span></oj-option>
                <oj-option id="noQues5" value="true"><span data-bind="text:$component.resource.generic.common.no"></span></oj-option>
              </oj-radioset>
            </div>
          </div>
          <div class="oj-flex oj-flex-items-pad">
            <div class="oj-flex-item oj-sm-12">
              <oj-label for="taxResidencyQues1" id="taxResidencyQues1Label"><span data-bind="text:$component.resource.taxResidencyInfo.ques1"></span></oj-label>
            </div>
            <div class="oj-flex-item oj-sm-12 oj-lg-12 oj-md-12">
              <oj-radioset class="oj-choice-direction-row" id="taxResidencyQues1" aria-labelledby="taxResidencyQues1Label" value="{{$component.fatcaComplianceData.taxResidencyInfoDTO.domesticTaxResident}}" translations="[[{'required':{messageDetail:$component.resource.messages.domesticTaxResident}}]]" on-value-changed="[[$component.taxResidentOtherCountryChanged]]">
                <oj-option id="yesQues1" value="false"><span data-bind="text:$component.resource.generic.common.yes"></span></oj-option>
                <oj-option id="noQues1" value="true"><span data-bind="text:$component.resource.generic.common.no"></span></oj-option>
              </oj-radioset>
            </div>
          </div>
          <!-- ko if: $component.fatcaComplianceData.taxResidencyInfoDTO.domesticTaxResident() !== "true" || $component.fatcaComplianceData.taxResidencyInfoDTO.domesticEntity() !== "true" -->
          <!-- ko foreach: $component.fatcaComplianceData.taxResidencyInfoDTO.nonDomesticTaxResidencyInfo -->
          <div class="" data-bind="template: { name: 'compliance/tax-resident-other-country'}"></div>
          <!-- /ko -->
          <!-- /ko -->
          <div class="oj-flex oj-flex-items-pad">
            <div class="oj-flex-item oj-sm-12">
              <oj-label for="taxResidencyQues2" id="taxResidencyQues2Label"><span data-bind="text:$component.resource.taxResidencyInfo.ques2"></span></oj-label>
            </div>
            <div class="oj-flex-item oj-sm-12 oj-lg-12 oj-md-12">
              <oj-radioset class="oj-choice-direction-row" id="taxResidencyQues2" aria-labelledby="taxResidencyQues2Label"translations="[[{'required':{messageDetail:$component.resource.messages.uSCitizen}}]]" value="{{$component.fatcaComplianceData.taxResidencyInfoDTO.usCitizen}}">
                <oj-option id="yesQues2" value="true"><span data-bind="text:$component.resource.generic.common.yes"></span></oj-option>
                <oj-option id="noQues2" value="false"><span data-bind="text:$component.resource.generic.common.no"></span></oj-option>
              </oj-radioset>
            </div>
          </div>
          <div class="oj-flex oj-flex-items-pad">
            <div class="oj-flex-item oj-sm-12">
              <oj-label for="taxResidencyQues3" id="taxResidencyQues3Label"><span data-bind="text:$component.resource.taxResidencyInfo.ques3"></span>
                <a id="sptInfo" :alt="{{$component.resource.taxResidencyInfo.sptInfoAlt}}" :title="{{$component.resource.taxResidencyInfo.sptInfoTitle}}" href="#" data-bind="click:$component.infoPopUp.bind($data, 'sptInfoPopUp', true)">
                                          <span class="icons icon-information"></span>
                                      </a></oj-label>
            </div>
            <div class="oj-flex-item oj-sm-12 oj-lg-12 oj-md-12">
              <oj-radioset class="oj-choice-direction-row" id="taxResidencyQues3" aria-labelledby="taxResidencyQues3Label" translations="[[{'required':{messageDetail:$component.resource.messages.sPTstatus}}]]" value="{{$component.fatcaComplianceData.taxResidencyInfoDTO.sptStatus}}">
                <oj-option id="yesQues3" value="true"><span data-bind="text:$component.resource.generic.common.yes"></span></oj-option>
                <oj-option id="noQues3" value="false"><span data-bind="text:$component.resource.generic.common.no"></span></oj-option>
              </oj-radioset>
            </div>
          </div>
          <div class="oj-flex oj-flex-items-pad">
            <div class="oj-flex-item oj-sm-12">
              <oj-label for="taxResidencyQues4" id="taxResidencyQues4Label"><span data-bind="text:$component.resource.taxResidencyInfo.ques4"></span></oj-label>
            </div>
            <div class="oj-flex-item oj-sm-12 oj-lg-12 oj-md-12">
              <oj-radioset class="oj-choice-direction-row" id="taxResidencyQues4" aria-labelledby="taxResidencyQues4Label" translations="[[{'required':{messageDetail:$component.resource.messages.uSGreenCardOwner}}]]" value="{{$component.fatcaComplianceData.taxResidencyInfoDTO.usGreenCardOwner}}">
                <oj-option id="yesQues4" value="true"><span data-bind="text:$component.resource.generic.common.yes"></span></oj-option>
                <oj-option id="noQues4" value="false"><span data-bind="text:$component.resource.generic.common.no"></span></oj-option>
              </oj-radioset>
            </div>
          </div>
        </oj-validation-group>
      </div>
    </page-section>
    <div class="oj-flex oj-flex-items-pad button-container">
      <oj-button id="continueTaxResidencyInfo" class="action-button-primary" on-click="[[continueTaxResidencyInfo]]">
        <span data-bind="text:$component.resource.continue"></span>
      </oj-button>
    </div>
  </div>
</div>
<!-- /ko -->
<oj-popup class="fatca-compliance-container" id="sptInfoPopUp" modality="modeless" tail="simple" position.my.horizontal="start" position.my.vertical="top" position.at.horizontal="right" position.at.vertical="bottom">
  <span class="fatca-popup" data-bind="text:$component.resource.taxResidencyInfo.sptInfo"></span>
</oj-popup>
