<!-- ko if:dataFetched()-->
<!-- ko if:$baseModel.small() -->
<div class="oj-flex-item oj-sm-12">
	<oj-film-strip maxItemsPerPage="1" arrowPlacement="adjacent" arrowVisibility="visible">

		<!-- ko foreach: $component.loansCards -->
		<div  data-bind="attr:{'id':'card_'+id.displayValue},component: {name: 'card', params:{rootModel: $parent,
			data:{
				'topLeftPanel':
				{
			'title': $data.partyName,
			'description': $data.productDTO.description,
			'features': [$data.id.displayValue,$data.accountNickname,$baseModel.format($component.locale.cardDetails.listingPercent,{value:$formatter.formatNumber(($data.interestRate)/100,'percent')})]
			 },
			 'topRightPanel':[{
				'label':$data.module==='CON'?$component.locale.cardDetails.conventional:$component.locale.cardDetails.islamic,
				'class':''
			}],
			'bottomRightPanel': {
				 'label':$component.locale.cardDetails.balance_heading ,
				 'value': $formatter.formatCurrency($data.outstandingAmount.amount, $data.outstandingAmount.currency)
			 },
			 clickHandler:$dashboard.loadComponent.bind($data,'loan-details',$data)
					}
		}
		}">

		</div>
		<!-- /ko -->

	</oj-film-strip>

</div>
<!-- /ko -->
<!-- ko if:!$baseModel.small()  -->
<div class="oj-flex">
	<!-- ko foreach: $component.loansCards -->
	<div class="oj-flex-item oj-sm-12">
		<div data-bind="component: {name: 'card', params:{rootModel: $parent,
		data:{
			'topLeftPanel':
			{
		'title': $data.partyName,
		'description': $data.productDTO.description,
		'features': [$data.id.displayValue,$data.accountNickname,$baseModel.format($component.locale.cardDetails.listingPercent,{value:$formatter.formatNumber(($data.interestRate)/100,'percent')})]
		 },
		 'topRightPanel':[{
			'label':$data.module==='CON'?$component.locale.cardDetails.conventional:$component.locale.cardDetails.islamic,
			'class':''
		}],
		'bottomRightPanel': {
			 'label':$component.locale.cardDetails.balance_heading ,
			 'value': $formatter.formatCurrency($data.outstandingAmount.amount, $data.outstandingAmount.currency)
		 },
		 clickHandler : $dashboard.loadComponent.bind($data,'loan-details',$data)
				}
	}
	},attr:{'id':'card_'+id.displayValue}">
			<span data-bind="text: name"></span>
		</div>
	</div>
	<!-- /ko -->
</div>
<!-- /ko -->
<!-- /ko -->
