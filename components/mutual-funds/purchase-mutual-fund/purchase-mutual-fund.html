<div class="oj-flex purchase-fund">
    <div class=" oj-flex-item oj-sm-12 oj-md-12 oj-lg-12">
        <div class="form-main-container">
            <page-section params="baseModel : $baseModel, rootModel : $data, heading : ''">

                <oj-validation-group id="fbtracker">
                    <div class="oj-flex oj-flex-items-pad ">
                        <div class="oj-flex-item oj-lg-12 oj-md-12 oj-sm-12">
                            <oj-label for="requestName">
                                <span data-bind="text:$component.resource.searchForNew"></span>
                            </oj-label>
                        </div>
                        <div class="oj-flex-item oj-lg-12 oj-md-12 oj-sm-12">
                            <oj-radioset class="oj-choice-direction-row" value="{{$component.extraData.newOld}}" on-value-changed="[[newOldChange]]">
                                <oj-option value="NEW"><span class="oj-sm-3" data-bind="text:$component.resource.new"></span></oj-option>
                                <oj-option value="EXISTING"><span class="oj-sm-3" data-bind="text:$component.resource.existing"></span></oj-option>
                            </oj-radioset>
                        </div>
                    </div>
                    <!-- ko if:$component.newOldSwitch -->
                    <!-- ko if:$component.extraData.newOld==="NEW" -->
                    <!-- ko if:fundHousesLoaded -->
                    <div class="oj-flex oj-flex-items-pad">
                        <div class="oj-flex-item oj-lg-12 oj-md-12 oj-sm-12">
                            <oj-label for="requestType">
                                <span data-bind="text:$component.resource.fundHouse"></span>
                            </oj-label>
                        </div>
                        <div class="oj-flex-item oj-lg-8 oj-md-8 oj-sm-12">
                            <oj-select-one id="requestType" value="{{$component.purchaseFund.fundHouseCode}}" on-value-changed="[[fundHouseChange]]" required="true" placeholder="{{$component.resource.selectPlaceHolder}}">
                                <!-- ko foreach: $component.fundHouseData -->
                                <oj-option value="[[code]]">
                                    <span data-bind="text: label"></span>
                                </oj-option>
                                <!-- /ko -->
                            </oj-select-one>
                        </div>
                    </div>
                    <!-- /ko -->

                    <!-- ko if:fundCategoryLoaded -->
                    <div class="oj-flex oj-flex-items-pad">
                        <div class="oj-flex-item oj-lg-12 oj-md-12 oj-sm-12">
                            <oj-label for="fundCategory">
                                <span data-bind="text:$component.resource.fundCategory"></span>
                            </oj-label>
                        </div>
                        <div class="oj-flex-item oj-lg-5 oj-md-5 oj-sm-6">
                            <oj-select-one id="fundCategory" value="{{$component.purchaseFund.scheme.fundCategory.fundCategoryCode}}" on-value-changed="[[fundCategoryChange]]" required="true" placeholder="{{$component.resource.selectPlaceHolder}}">
                                <!-- ko foreach: $component.fundCategoryData -->
                                <oj-option value="[[code]]">
                                    <span data-bind="text: label"></span>
                                </oj-option>
                                <!-- /ko -->
                            </oj-select-one>
                        </div>
                    </div>
                    <!-- /ko -->

                    <!-- ko if:schemeNameLoaded -->
                    <div class="oj-flex oj-flex-items-pad">
                        <div class="oj-flex-item oj-lg-12 oj-md-12 oj-sm-12">
                            <oj-label for="schemeName">
                                <span data-bind="text:$component.resource.schemeName"></span>
                            </oj-label>
                        </div>
                        <div class="oj-flex-item oj-lg-12 oj-md-12 oj-sm-12">
                            <oj-select-one id="schemeName" value="{{$component.purchaseFund.scheme.schemeCode}}" on-value-changed="[[schemeChange]]" required="true" placeholder="{{$component.resource.selectPlaceHolder}}">
                                <!-- ko foreach: $component.schemeData -->
                                <oj-option value="[[code]]">
                                    <span data-bind="text: label"></span>
                                </oj-option>
                                <!-- /ko -->
                            </oj-select-one>
                        </div>
                        <!-- ko if:fundInformationPanel -->
                        <div class="oj-flex-item oj-lg-12 oj-md-12 oj-sm-12">
                            <a href="#" data-bind="click: $component.showInfoPanel"><span class="medium-text" data-bind="text:$component.resource.fundDetails"></span></a>
                        </div>
                        <!-- /ko -->
                    </div>
                    <!-- /ko -->
                    <!-- /ko -->
                    <!-- ko if:$component.extraData.newOld==="EXISTING" -->
                    <!-- ko if:investmentAccountLoaded -->
                    <div class="oj-flex oj-flex-items-pad ">
                        <div class="oj-flex-item oj-lg-12 oj-md-12 oj-sm-12">
                            <oj-label for="investmentaccount">
                                <span data-bind="text:$component.resource.investmentAccount"></span>
                            </oj-label>
                        </div>
                        <div class="oj-flex-item oj-lg-8 oj-md-8 oj-sm-12">
                            <oj-select-one id="investmentaccount" value="{{$component.purchaseFund.investmentAccountNumber}}" required="true" on-value-changed="[[investmentAccountChange]]">
                                <!-- ko foreach: $component.investmentAccountData -->
                                <oj-option value="[[code]]">
                                    <span data-bind="text: primaryHolderName+'-'+label+'-'+holdingPattern"></span>
                                </oj-option>
                                <!-- /ko -->
                            </oj-select-one>
                        </div>
                        <div class="oj-flex-item oj-lg-12 oj-md-12 oj-sm-12 small-text">
                            <span data-bind="text:$component.resource.riskProfile"></span><span data-bind="text:$component.riskProfile"></span>
                        </div>
                    </div>
                    <!-- /ko -->
                    <!-- ko if:schemeNameLoaded -->
                    <div class="oj-flex oj-flex-items-pad">
                        <div class="oj-flex-item oj-lg-12 oj-md-12 oj-sm-12">
                            <oj-label for="schemeName">
                                <span data-bind="text:$component.resource.schemeName"></span>
                            </oj-label>
                        </div>
                        <div class="oj-flex-item oj-lg-12 oj-md-12 oj-sm-12">
                            <oj-select-one id="schemeName" value="{{$component.purchaseFund.scheme.schemeCode}}" on-value-changed="[[schemeChange]]" required="true" placeholder="{{$component.resource.selectPlaceHolder}}">
                                <!-- ko foreach: $component.schemeData -->
                                <oj-option value="[[code]]">
                                    <span data-bind="text: label"></span>
                                </oj-option>
                                <!-- /ko -->
                            </oj-select-one>
                        </div>
                        <div class="oj-flex-item oj-lg-12 oj-md-12 oj-sm-12">
                            <a href="#" data-bind="click: $component.showInfoPanel"><span class="medium-text" data-bind="text:$component.resource.fundDetails"></span></a>
                        </div>
                    </div>
                    <!-- /ko -->
                    <!-- /ko -->
                    <!-- /ko -->
                    <!-- ko if:purchaseTypeLoaded -->
                    <div class="oj-flex oj-flex-items-pad ">
                        <div class="oj-flex-item oj-lg-12 oj-md-12 oj-sm-12">
                            <oj-label for="purchasetype">
                                <span data-bind="text:$component.resource.purchaseType"></span>
                            </oj-label>
                        </div>
                        <div class="oj-flex-item oj-lg-12 oj-md-12 oj-sm-12">
                            <oj-radioset class="oj-choice-direction-row" id="purchasetype" value="{{$component.purchaseFund.instructionTypeCode}}" required="true">
                                <!-- ko foreach: $component.purchaseTypeData -->
                                <oj-option value="[[code]]">
                                    <span data-bind="text: label"></span>
                                </oj-option>
                                <!-- /ko -->
                            </oj-radioset>
                        </div>
                    </div>
                    <!-- /ko -->
                </oj-validation-group>
            </page-section>
            <div class="oj-flex button-container">
                <oj-button class="action-button-primary" id="next-button"  on-click="[[$component.nextStep]]">
                    <span slot="startIcon" class="icons icon-pay"></span>
                    <span data-bind="text:$component.resource.purchase"></span>
                </oj-button>
                <oj-button class="action-button-secondary" id="cancel-button"  on-click="[[$dashboard.switchModule.bind($data, null)]]">
                    <span slot="startIcon" class="icons icon-cancel"></span>
                    <span data-bind="text:$component.resource.cancel"></span>
                </oj-button>
            </div>
        </div>
    </div>
</div>