<div class="oj-flex switch-order-details">
    <div class=" oj-flex-item oj-sm-12 oj-md-12 oj-lg-12">
        <div class="form-main-container">
            <div data-bind="template: { name: 'review-screen/review-banner-template', data: {header: $component.resource.reviewScreen.reviewCaption, reviewHeader:$component.resource.reviewScreen.reviewHeader}}">
            </div>
            <!-- ko foreach:$component.payLoadArray -->
            <!-- ko if: switchType === "ONE_TIME" -->
            <page-section params="baseModel : $baseModel, rootModel : $data, heading : reviewScreen.switchInScheme">
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.fundDetails.investmentAccount , value : navigationData.investmentAccountInfo"></row>
                <div class="oj-flex oj-flex-items-pad risk-profile">
                    <div class="oj-flex-item oj-lg-12 oj-md-12 oj-sm-12 switch-order-details__info-text-small">
                        <span data-bind="text: $parentContext.$component.resource.riskProfile"></span><span data-bind="text: reviewScreen.riskProfile"></span>
                    </div>
                </div>
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.reviewScreen.switchOutScheme , value : reviewScreen.switchOutScheme"></row>
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.reviewScreen.switchInScheme , value : reviewScreen.switchInScheme"></row>
                <!-- ko if: isSuitableSwitchIn -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.fundDetails.schemeSuitability , value : $parentContext.$component.resource.fundDetails.yes"></row>
                <!-- /ko -->
                <!-- ko ifnot: isSuitableSwitchIn -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.fundDetails.schemeSuitability , value : $parentContext.$component.resource.fundDetails.no"></row>
                <!-- /ko -->
                <!-- ko ifnot: switchFund.switchInDetails.folioNumber === null -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.folio , value : switchFund.switchInDetails.folioNumber"></row>
                <!-- /ko -->
                <!-- ko if: switchFund.switchInDetails.folioNumber === null -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.folio , value : $parentContext.$component.resource.fundDetails.newFolio"></row>
                <!-- /ko -->
                <!-- ko if: switchFund.switchInDetails.dividendActionCode === "PAYOUT" -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.dividend , value : $parentContext.$component.resource.orderDetails.payout"></row>
                <!-- /ko -->
                <!-- ko if: switchFund.switchInDetails.dividendActionCode === "REINVEST" -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.dividend , value : $parentContext.$component.resource.orderDetails.reinvest"></row>
                <!-- /ko -->
            </page-section>
            <page-section params="baseModel : $baseModel, rootModel : $data, heading : $parentContext.$component.resource.orderDetails.transactionHeader">
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.switchBy , value : reviewScreen.switchBy"></row>
                <!-- ko if: onetimeSwitchType === "UN" || onetimeSwitchType === "AUN" -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.units , value : switchFund.switchInDetails.txnUnits"></row>
                <!-- /ko -->
                <!-- ko if: onetimeSwitchType === "AMT" -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.amount , value : $formatter.formatCurrency(switchFund.switchInDetails.txnAmount.amount, switchFund.switchInDetails.txnAmount.currency)"></row>
                <!-- /ko -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.when , value : reviewScreen.when"></row>
                <!-- ko if: navigationData.when === "NOW"-->
                <div class="oj-flex oj-flex-items-pad">
                    <div class="oj-flex-item oj-lg-12 oj-md-12 oj-sm-12">
                        <oj-label>
                            <span data-bind="text: $parentContext.$component.resource.orderDetails.cutOffPeriod"></span>
                        </oj-label>
                    </div>
                    <div class="oj-flex-item oj-lg-2 oj-md-3 oj-sm-6">
                        <span data-bind="text: $parentContext.$component.resource.orderDetails.time"></span>
                        <span data-bind="text: $formatter.formatDate(navigationData.cutOffDate, 'timeFormat')"></span>
                    </div>
                    <div class="oj-flex-item oj-lg-3 oj-md-4 oj-sm-6">
                        <span data-bind="text: $parentContext.$component.resource.orderDetails.date"></span>
                        <span data-bind="text: $formatter.formatDate(navigationData.cutOffDate)"></span>
                    </div>
                </div>
                <!-- /ko -->
                <!-- ko if: navigationData.when === "LATER"-->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.purchaseDate, value : $formatter.formatDate(switchFund.switchInDetails.scheduledDate)"></row>
                <!-- /ko -->
            </page-section>
            <!-- /ko -->
            <!-- ko if: switchType === "PSTP" -->
            <page-section params="baseModel : $baseModel, rootModel : $data, heading : reviewScreen.switchInScheme">
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.fundDetails.investmentAccount , value : navigationData.investmentAccountInfo"></row>
                <div class="oj-flex oj-flex-items-pad risk-profile">
                    <div class="oj-flex-item oj-lg-12 oj-md-12 oj-sm-12 switch-order-details__info-text-small">
                        <span data-bind="text: $parentContext.$component.resource.riskProfile"></span><span data-bind="text: reviewScreen.riskProfile"></span>
                    </div>
                </div>
            </page-section>
            <page-section params="baseModel : $baseModel, rootModel : $data, heading : $component.resource.fundDetails.initialPurchaseScheme">
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.fundDetails.fundHouse , value : reviewScreen.switchOutFundHouse"></row>
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.fundDetails.schemeName , value : switchFund.switchOutDetails.scheme.schemeName"></row>
                <!-- ko ifnot: switchFund.switchOutDetails.folioNumber === null -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.folio , value : switchFund.switchOutDetails.folioNumber"></row>
                <!-- /ko -->
                <!-- ko if: switchFund.switchOutDetails.folioNumber === null -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.folio , value : $parentContext.$component.resource.fundDetails.newFolio"></row>
                <!-- /ko -->
                <!-- ko if: switchFund.switchOutDetails.dividendActionCode === "PAYOUT" -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.dividend , value : $parentContext.$component.resource.orderDetails.payout"></row>
                <!-- /ko -->
                <!-- ko if: switchFund.switchOutDetails.dividendActionCode === "REINVEST" -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.dividend , value : $parentContext.$component.resource.orderDetails.reinvest"></row>
                <!-- /ko -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.fundDetails.payFrom , value : switchFund.switchOutDetails.casaAccountNumber.displayValue"></row>
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.amount , value : $formatter.formatCurrency(switchFund.switchOutDetails.txnAmount.amount, switchFund.switchOutDetails.txnAmount.currency)"></row>
                <!-- ko if: $component.isSuitableSwitchOut -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.fundDetails.schemeSuitability , value : $parentContext.$component.resource.fundDetails.yes"></row>
                <!-- /ko -->
                <!-- ko ifnot: $component.isSuitableSwitchOut -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.fundDetails.schemeSuitability , value : $parentContext.$component.resource.fundDetails.no"></row>
                <!-- /ko -->
                <div class="oj-flex oj-flex-items-pad">
                    <div class="oj-flex-item oj-lg-12 oj-md-12">
                        <oj-label>
                            <span data-bind="text: $parentContext.$component.resource.orderDetails.cutOffPeriod"></span>
                        </oj-label>
                    </div>
                    <div class="oj-flex-item oj-lg-2 oj-md-3 oj-sm-6">
                        <span data-bind="text: $parentContext.$component.resource.orderDetails.time"></span>
                        <span data-bind="text: $formatter.formatDate(navigationData.switchOut.cutOffDate, 'timeFormat')"></span>
                    </div>
                    <div class="oj-flex-item oj-lg-3 oj-md-4 oj-sm-6">
                        <span data-bind="text: $parentContext.$component.resource.orderDetails.date"></span>
                        <span data-bind="text: $formatter.formatDate(navigationData.switchOut.cutOffDate)"></span>
                    </div>
                </div>
            </page-section>
            <page-section params="baseModel : $baseModel, rootModel : $data, heading : $component.resource.orderDetails.switchInHeader">
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.fundDetails.fundHouse , value : reviewScreen.fundHouse"></row>
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.fundDetails.schemeName , value : reviewScreen.switchInScheme"></row>
                <!-- ko if: $component.isSuitableSwitchIn -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.fundDetails.schemeSuitability , value : $parentContext.$component.resource.fundDetails.yes"></row>
                <!-- /ko -->
                <!-- ko ifnot: $component.isSuitableSwitchIn -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.fundDetails.schemeSuitability , value : $parentContext.$component.resource.fundDetails.no"></row>
                <!-- /ko -->
                <!-- ko ifnot: switchFund.switchInDetails.folioNumber === null -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.folio , value : switchFund.switchInDetails.folioNumber"></row>
                <!-- /ko -->
                <!-- ko if: switchFund.switchInDetails.folioNumber === null -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.folio , value : $parentContext.$component.resource.fundDetails.newFolio"></row>
                <!-- /ko -->
                <!-- ko if: switchFund.switchInDetails.dividendActionCode === "PAYOUT" -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.dividend , value : $parentContext.$component.resource.orderDetails.payout"></row>
                <!-- /ko -->
                <!-- ko if: switchFund.switchInDetails.dividendActionCode === "REINVEST" -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.dividend , value : $parentContext.$component.resource.orderDetails.reinvest"></row>
                <!-- /ko -->
            </page-section>
            <page-section params="baseModel : $baseModel, rootModel : $data, heading : $parentContext.$component.resource.orderDetails.setInstructions">
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.frequency , value : switchFund.switchInDetails.frequency"></row>
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.switchBy , value : reviewScreen.switchBy"></row>
                <!-- ko if: onetimeSwitchType === "UN" ||  onetimeSwitchType === "AUN" -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.units , value : switchFund.switchInDetails.txnUnits"></row>
                <!-- /ko -->
                <!-- ko if: onetimeSwitchType === "AMT" -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.amount , value : $formatter.formatCurrency(switchFund.switchInDetails.txnAmount.amount, switchFund.switchInDetails.txnAmount.currency)"></row>
                <!-- /ko -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.startDate , value : $formatter.formatDate(switchFund.switchInDetails.startDate)"></row>
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.installments , value : switchFund.switchInDetails.installments"></row>
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.endDate , value : $formatter.formatDate(estimatedDate)"></row>
                <div class="oj-flex oj-flex-items-pad">
                    <div class="oj-flex-item oj-lg-12 oj-md-12">
                        <oj-label>
                            <span data-bind="text: $parentContext.$component.resource.orderDetails.cutOffPeriod"></span>
                        </oj-label>
                    </div>
                    <div class="oj-flex-item oj-lg-2 oj-md-3 oj-sm-6">
                        <span data-bind="text: $parentContext.$component.resource.orderDetails.time"></span>
                        <span data-bind="text: $formatter.formatDate(navigationData.cutOffDate, 'timeFormat')"></span>
                    </div>
                    <div class="oj-flex-item oj-lg-3 oj-md-4 oj-sm-6">
                        <span data-bind="text: $parentContext.$component.resource.orderDetails.date"></span>
                        <span data-bind="text: $formatter.formatDate(navigationData.cutOffDate)"></span>
                    </div>
                </div>
            </page-section>
            <!-- /ko -->
            <!-- ko if: switchType === "STP" -->
            <page-section params="baseModel : $baseModel, rootModel : $data, heading : reviewScreen.switchInScheme">
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.fundDetails.investmentAccount , value : navigationData.investmentAccountInfo"></row>
                <div class="oj-flex oj-flex-items-pad risk-profile">
                    <div class="oj-flex-item oj-lg-12 oj-md-12 oj-sm-12 switch-order-details__info-text-small">
                        <span data-bind="text: $parentContext.$component.resource.riskProfile"></span><span data-bind="text: reviewScreen.riskProfile"></span>
                    </div>
                </div>
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.reviewScreen.switchOutScheme , value : reviewScreen.switchOutScheme"></row>
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.reviewScreen.switchInScheme , value : reviewScreen.switchInScheme"></row>
                <!-- ko ifnot: switchFund.switchInDetails.folioNumber === null -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.folio , value : switchFund.switchInDetails.folioNumber"></row>
                <!-- /ko -->
                <!-- ko if: switchFund.switchInDetails.folioNumber === null -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.folio , value : $parentContext.$component.resource.fundDetails.newFolio"></row>
                <!-- /ko -->
                <!-- ko if: switchFund.switchInDetails.dividendActionCode === "PAYOUT" -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.dividend , value : $parentContext.$component.resource.orderDetails.payout"></row>
                <!-- /ko -->
                <!-- ko if: switchFund.switchInDetails.dividendActionCode === "REINVEST" -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.dividend , value : $parentContext.$component.resource.orderDetails.reinvest"></row>
                <!-- /ko -->
            </page-section>
            <page-section params="baseModel : $baseModel, rootModel : $data, heading : $parentContext.$component.resource.orderDetails.setInstructions">
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.frequency , value : switchFund.switchInDetails.frequency"></row>
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.switchBy , value : reviewScreen.switchBy"></row>
                <!-- ko if: onetimeSwitchType === "UN" ||  onetimeSwitchType === "AUN" -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.units , value : switchFund.switchInDetails.txnUnits"></row>
                <!-- /ko -->
                <!-- ko if: onetimeSwitchType === "AMT" -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.amount , value : $formatter.formatCurrency(switchFund.switchInDetails.txnAmount.amount, switchFund.switchInDetails.txnAmount.currency)"></row>
                <!-- /ko -->
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.startDate , value : $formatter.formatDate(switchFund.switchInDetails.startDate)"></row>
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.installments , value : switchFund.switchInDetails.installments"></row>
                <row params="baseModel : $baseModel, rootModel : $component, label : $parentContext.$component.resource.orderDetails.endDate , value : $formatter.formatDate(estimatedDate)"></row>
                <div class="oj-flex oj-flex-items-pad">
                    <div class="oj-flex-item oj-lg-12 oj-md-12">
                        <oj-label>
                            <span data-bind="text: $parentContext.$component.resource.orderDetails.cutOffPeriod"></span>
                        </oj-label>
                    </div>
                    <div class="oj-flex-item oj-lg-2 oj-md-3 oj-sm-6">
                        <span data-bind="text: $parentContext.$component.resource.orderDetails.time"></span>
                        <span data-bind="text: $formatter.formatDate(navigationData.cutOffDate, 'timeFormat')"></span>
                    </div>
                    <div class="oj-flex-item oj-lg-3 oj-md-4 oj-sm-6">
                        <span data-bind="text: $parentContext.$component.resource.orderDetails.date"></span>
                        <span data-bind="text: $formatter.formatDate(navigationData.cutOffDate)"></span>
                    </div>
                </div>
            </page-section>
            <!-- /ko -->
            <!-- /ko -->
            <!-- ko ifnot:$baseModel.small()-->
            <div class="oj-flex button-container">
                <oj-button class="action-button-primary" id="next-button"  on-click="[[processSwitch]]">
                    <span slot="startIcon" class="icons icon-confirm"></span>
                    <span data-bind="text:$component.resource.reviewScreen.confirm"></span>
                </oj-button>
                <oj-button class="action-button-secondary" id="cancel-button"  on-click="[[$dashboard.switchModule.bind($data, null)]]">
                    <span slot="startIcon" class="icons icon-cancel"></span>
                    <span data-bind="text:$component.resource.cancel"></span>
                </oj-button>
                <oj-button class="action-button-tertiary" id="back"  on-click="[[$component.details]]">
                    <span slot="startIcon" class="icons icon-back-arrow"></span>
                    <span data-bind="text:$component.resource.back"></span>
                </oj-button>
            </div>
            <!-- /ko -->
            <!-- ko if:$baseModel.small()-->
            <div class="oj-flex button-padding">
                <oj-button class="action-button-primary" id="next-button"  on-click="[[processSwitch]]" disabled="[[$component.disabled()]]">
                    <span slot="startIcon" class="icons icon-confirm"></span>
                    <span data-bind="text:$component.resource.reviewScreen.confirm"></span>
                </oj-button>
                <oj-button class="action-button-secondary back-margin" id="cancel-button"  on-click="[[$dashboard.switchModule.bind($data, null)]]">
                    <span slot="startIcon" class="icons icon-cancel"></span>
                    <span data-bind="text:$component.resource.cancel"></span>
                </oj-button>
                <oj-button class="action-button-tertiary back-margin" id="back"  on-click="[[$component.details]]">
                    <span slot="startIcon" class="icons icon-back-arrow"></span>
                    <span data-bind="text:$component.resource.back"></span>
                </oj-button>
            </div>
            <!-- /ko -->
        </div>
    </div>
</div>
<!-- ko if : !$baseModel.small() -->
<a class="button-container" href="#" data-bind="text: $component.resource.backToDashboard, click: $dashboard.switchModule.bind($data, 'mutual-funds')"></a>
<!-- /ko -->
