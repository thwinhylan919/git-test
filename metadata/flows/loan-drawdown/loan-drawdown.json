{"info":{"metadataVersion":"V2","version":"5.0.3","creationDate":1574657613746,"lastModified":1579502855661},"componentType":"FLOW","wrapperType":"TRAIN","summaryOption":false,"confirmationType":"v1","formLayout":{"labelEdge":"start","maxColumns":1},"swaggerUrls":[{"url":"http://mum00boa.in.oracle.com:18777/swagger/json/openapi.json","version":"v1","nickName":"Default_API"}],"flowType":"Create","flowImplicitName":"loan-drawdown","reviewLayout":"showMore","components":[{"restFlow":{"type":"Chain","rests":"[{\"rests\":[\"/liabilities get Default_API v1\"],\"child\":[{\"rests\":[\"/liabilities/{liabilityId}/facilities get Default_API v1\"],\"child\":[]}]},{\"rests\":[\"/products/loan get Default_API v1\"],\"child\":[]},{\"rests\":[\"/processManagement post Default_API v1\"],\"child\":[]},{\"rests\":[\"/purposes/{moduleType} get Default_API v1\"],\"child\":[]},{\"rests\":[\"/liabilities/{liabilityId}/facilities/{Id} get Default_API v1\"],\"child\":[]}]"},"data":{"externalMappedParams":[],"initRests":[],"css":".mainline{\n  font-size: 1rem;\n  @include padding(0.5rem,0.5rem,0.5rem,0rem);  \n    \n \n}\n  .structure{\n    color:var(--oj-neutral-color1);\n    background:var(--link-hover);\n  }\n  .structure1{\n    color:var(--oj-neutral-color1);\n    background:var(--review-banner-border-color);\n    \n  }\n.change-facility-button {\n    @include float(right);\n    margin-top: -0.7rem;\n\n}\n.uitizationAmountProgress {\n    width: 50%;\n    height: 0.625rem;\n    opacity: .3;\n    background-color: var(--oj-neutral-color13);\n}\n.progressBar{\n  padding-top: 0.3rem;\n}\n\n  \n","customNLS":"{\n  notApplicable :\"Not Applicable\",\n mainLine :\"Main Line\",\n  subLine:\"Sub Line\",\n  year :\"Year\",\nmonth:\"Month\",\nspecifyYourInstructions:\"Specify Your Instructions\",\n  ChangeFacility: {\n                    Selectcreditfacilitytoinitiateloandrawdownrequest : \"Select credit facility to initiate loan drawdown request\",\n                    FacilityID : \"Facility ID\",\n                    FundingType : \"Funding Type\",\n                    AvailableAmount : \"Available Amount\",\n                    Proceed :\"Proceed\",\n                    Cancel:\"Cancel\",\n                    ChooseFacility:\"Choose Facility\"\n\n                },\n  draftName:\"Draft Name\",\n    goToApplicationTracker:\"Go To Application Tracker\",\n                newLoanDrawdownRequest : \"New Loan Drawdown Request\",\n                link:{\n                    newLoanDrawdownRequest : \"New Loan Drawdown Request\",\n                    goToApplicationTracker:\"Go To Application Tracker\"\n                },\n                referenceNumber: \"Reference Number\",\n                enterDraftName:\"Enter Draft Name\",\n                save:\"Save\",\n                cancel:\"Cancel\",\n                Savedrequest:\"Saved request can be retrieved from Application Tracker.\",\n  draftSuccessMessage:\"Loan Drawdown Request saved successfully.\",\n  \n}","componentHeader":"Loan Drawdown Request","validationTrackerID":"'creditFacilityTracker'","stageName":"DrawdownRequirement","contracts":[{"buttonName":"primary","imgSource":"icons icon-forward-arrow","nameholder":"Next","functionName":"next","selectionType":"custom","slotType":"startIcon"},{"buttonName":"primary","imgSource":"icons icon-save","nameholder":"Draft","selectionType":"custom","functionName":"draft","slotType":"startIcon"},{"buttonName":"secondary","imgSource":"icons icon-back-arrow","nameholder":"Back","selectionType":"custom","functionName":"back","slotType":"startIcon"},{"buttonName":"tertiary","imgSource":"icons icon-cancel","nameholder":"Cancel","selectionType":"cancel","functionName":"cancel","slotType":"startIcon"}]},"layout":[{"nameholder":"Credit Facility","conditionalExpression":{"conditionalValue":"!$component.openModal()"},"template":"loans/change-credit-facility","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"CreditFacility12","type":"PageSection","children":[{"isReadOnly":true,"conditionalExpression":{"conditionalValue":"$component.facilityDetails()"},"customAttribute":[{"attribute":"class","value":"'oj-panel'"}],"containerType":"NormalContainer","template":"Container","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"Container77","type":"Container","children":[{"containerType":"NormalContainer","template":"Container","valueClasses":"''","grid":{"layout":true,"flexItemClass":"oj-sm-6","flexItemsPad":true},"componentID":"Container44","type":"Container","children":[{"nameholder":"Facility ID","mappedValue":"facilityDetails().lineCodeNew","use":"ObservableVariable","customAttribute":[{"attribute":"css","value":"'mainline'"}],"valueClasses":"''","tagType":"Div","textBindingOption":"Bindings","grid":{"flexItemsPad":true},"componentID":"FacilityID30","type":"Text"}]},{"nameholder":"Main Line","mappedValue":"facilityDetails().mainLineCode===''? $data.nls.mainLine:$data.nls.subLine","use":"ObservableVariable","customAttribute":[{"attribute":"class","value":"facilityDetails().mainLineCode=== '' ? 'structure tags' : 'structure1 tags' "}],"valueClasses":"''","tagType":"Span","textBindingOption":"Bindings","grid":{"flex":true,"layout":true,"flexItemsPad":true},"componentID":"MainLine49","type":"Text"},{"isReadOnly":true,"customAttribute":[{"attribute":"class","value":"'oj-flex oj-flex-items-pad'"}],"containerType":"NormalContainer","template":"Container","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"Container93","type":"Container","children":[{"isReadOnly":true,"customAttribute":[{"attribute":"class","value":"'oj-flex oj-flex-item oj-sm-10'"}],"containerType":"NormalContainer","template":"Container","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"Container21","type":"Container","children":[{"isReadOnly":true,"customAttribute":[{"attribute":"class","value":"'oj-sm-2'"}],"containerType":"NormalContainer","template":"Container","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"Container40","type":"Container","children":[{"nameholder":"Funding Type","valueClasses":"''","tagType":"Label","textBindingOption":"NLS","grid":{"flexItemsPad":true},"componentID":"FundingType6","type":"Text"},{"nameholder":"Funding Type","mappedValue":"facilityDetails().categoryDesc","use":"ObservableVariable","valueClasses":"''","tagType":"Div","textBindingOption":"Bindings","grid":{"flexItemsPad":true},"componentID":"FundingType34","type":"Text"}]},{"isReadOnly":true,"customAttribute":[{"attribute":"class","value":"'oj-flex-item oj-sm-2'"}],"containerType":"NormalContainer","template":"Container","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"Container42","type":"Container","children":[{"nameholder":"Revolving Line","valueClasses":"''","tagType":"Label","textBindingOption":"NLS","grid":{"flexItemsPad":true},"componentID":"RevolvingLine34","type":"Text"},{"nameholder":"Revolving Line","mappedValue":"facilityDetails().revolvingLine===true? 'Yes':'No'","use":"ObservableVariable","valueClasses":"''","tagType":"Div","textBindingOption":"Bindings","grid":{"flexItemsPad":true},"componentID":"RevolvingLine23","type":"Text"}]},{"isReadOnly":true,"customAttribute":[{"attribute":"class","value":"'oj-flex-item oj-sm-2'"}],"containerType":"NormalContainer","template":"Container","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"Container33","type":"Container","children":[{"nameholder":"Sanctioned Amount","valueClasses":"''","tagType":"Label","textBindingOption":"NLS","grid":{"flexItemsPad":true},"componentID":"SanctionedAmount85","type":"Text"},{"nameholder":"Sanctioned Amount","mappedValue":"$formatter.formatCurrency(facilityDetails().effectiveAmount.amount, facilityDetails().effectiveAmount.currency)","use":"ObservableVariable","valueClasses":"''","tagType":"Div","textBindingOption":"Bindings","grid":{"flexItemsPad":true},"componentID":"SanctionedAmount34","type":"Text"}]},{"isReadOnly":true,"customAttribute":[{"attribute":"class","value":"'oj-flex-item oj-sm-2'"}],"containerType":"NormalContainer","template":"Container","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"Container51","type":"Container","children":[{"nameholder":"Utilized Amount","valueClasses":"''","tagType":"Label","textBindingOption":"NLS","grid":{"flexItemsPad":true},"componentID":"UtilizedAmount11","type":"Text"},{"nameholder":"Utilized Amount","mappedValue":"$formatter.formatCurrency(facilityDetails().utilizedAmount.amount, facilityDetails().utilizedAmount.currency)","use":"ObservableVariable","valueClasses":"''","tagType":"Div","textBindingOption":"Bindings","grid":{"flexItemsPad":true},"componentID":"UtilizedAmount47","type":"Text"}]},{"isReadOnly":true,"customAttribute":[{"attribute":"class","value":"'oj-flex-item oj-sm-2'"}],"containerType":"NormalContainer","template":"Container","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"Container67","type":"Container","children":[{"nameholder":"Available Amount","valueClasses":"''","tagType":"Label","textBindingOption":"NLS","grid":{"flexItemsPad":true},"componentID":"AvailableAmount64","type":"Text"},{"nameholder":"Available Amount","mappedValue":"$formatter.formatCurrency(facilityDetails().availableAmount.amount, facilityDetails().availableAmount.currency)","use":"ObservableVariable","valueClasses":"''","tagType":"Div","textBindingOption":"Bindings","grid":{"flexItemsPad":true},"componentID":"AvailableAmount46","type":"Text"}]},{"isReadOnly":true,"customAttribute":[{"attribute":"class","value":"'oj-flex-item oj-sm-2'"}],"containerType":"NormalContainer","template":"Container","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"Container64","type":"Container","children":[{"nameholder":"Expiry date","valueClasses":"''","tagType":"Label","textBindingOption":"NLS","grid":{"flexItemsPad":true},"componentID":"Expirydate88","type":"Text"},{"nameholder":"Expiry Date","mappedValue":"facilityDetails().expiryDate ? $formatter.formatDate(facilityDetails().expiryDate) : $component.nls.CreditFacility.notApplicable","use":"ObservableVariable","valueClasses":"''","tagType":"Div","textBindingOption":"Bindings","grid":{"flexItemsPad":true},"componentID":"ExpiryDate14","type":"Text"}]}]},{"isReadOnly":true,"customAttribute":[{"attribute":"class","value":"'oj-flex-item oj-sm-2'"}],"containerType":"NormalContainer","template":"Container","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"Container31","type":"Container","children":[{"nameholder":"Utilized Amount","formatLabel":{"isFormatLabel":true,"formattedVariables":"number :$component.result()","formattedLabel":"{number} % Utilized"},"valueClasses":"''","tagType":"Label","textBindingOption":"NLS","grid":{"flexItemsPad":true},"componentID":"UtilizedAmount58","type":"Text"},{"customAttribute":[{"attribute":"class","value":"'progressBar'"}],"containerType":"NormalContainer","template":"Container","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"Container85","type":"Container","children":[{"nameholder":"utilization","mappedValue":"result","use":"ObservableVariable","isReadOnly":true,"customAttribute":[{"attribute":"class","value":"'uitizationAmountProgress'","colon":true}],"valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"'utilization75'","type":"Progress"}]}]}]}]}]},{"nameholder":"Drawdown Details","conditionalExpression":{"conditionalValue":"!$component.openModal()"},"valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"DrawdownDetails87","type":"PageSection","children":[{"nameholder":"Please let us know your drawdown requirement so as to serve you better.","valueClasses":"''","tagType":"Div","textBindingOption":"NLS","grid":{"flex":true,"layout":true,"flexItemsPad":true},"componentID":"Pleaseletusknowyourdrawdownrequirementsoastoserveyoubetter53","type":"Text"},{"nameholder":"Select the type of loan","valueClasses":"''","tagType":"Label","textBindingOption":"NLS","grid":{"flex":true,"layout":true,"flexItemClass":"oj-sm-12","flexItemsPad":true},"componentID":"Selectthetypeofloan60","type":"Text"},{"nameholder":"product","hideLabel":true,"rest":"/loanApplications","method":"post","mappedValue":".applicationDetails.productCode","payloadPrefix":"payload","use":"PayloadProperty","selectionType":"One","isReadOnly":true,"optionList":{"optionSource":"external","options":"productsloangetVar","labelKey":"description","valueKey":"name"},"conditionalExpression":{"conditionalValue":"$component.productsloangetVar()"},"isRequiredField":true,"valueClasses":"''","grid":{"layout":true,"flexItemClass":"oj-sm-4","flexItemsPad":true},"componentID":"'product94'","type":"SelectOne"},{"nameholder":"Select the loan purpose","valueClasses":"''","tagType":"Label","textBindingOption":"NLS","grid":{"flex":true,"layout":true,"flexItemClass":"oj-sm-12","flexItemsPad":true},"componentID":"Selecttheloanpurpose56","type":"Text"},{"nameholder":"Select the loan purpose","hideLabel":true,"rest":"/loanApplications","method":"post","mappedValue":".applicationDetails.purposeText","payloadPrefix":"payload","use":"PayloadProperty","selectionType":"One","optionList":{"optionSource":"external","options":"purposesmoduleTypegetVar","labelKey":"description","valueKey":"code"},"conditionalExpression":{"conditionalValue":"purposesmoduleTypegetVar()"},"isRequiredField":true,"valueClasses":"''","grid":{"layout":true,"flexItemClass":"oj-sm-4","flexItemsPad":true},"componentID":"'Selecttheloanpurpose75'","type":"SelectOne"},{"isReadOnly":true,"customAttribute":[{"attribute":"class","value":"'oj-sm-3'"}],"containerType":"NormalContainer","template":"Container","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"Container29","type":"Container","children":[{"nameholder":"Enter the drawdown amount","rest":"/loanApplications","method":"post","mappedValue":".loanRequirements.loanAmount.amount","payloadPrefix":"payload","use":"PayloadProperty","isReadOnly":true,"source":"'form-input'","isRequiredField":true,"extraDetails":"currency","header":true,"idAttribute":"'drawdown-amount'","networkCode":"'currency'","currencyParser":"$component.currencyParser","valueClasses":"'oj-lg-6 oj-md-6'","grid":{"flexItemsPad":true},"componentID":"Enterthedrawdownamount49","type":"AmountInput"}]},{"nameholder":"Enter the drawdown period","valueClasses":"''","tagType":"Label","textBindingOption":"NLS","grid":{"flex":true,"layout":true,"flexItemClass":"oj-sm-12","flexItemsPad":true},"componentID":"Enterthedrawdownperiod11","type":"Text"},{"nameholder":"Year","mappedValue":"year","use":"ObservableVariable","isReadOnly":true,"validationExpression":{"validationType":"OBDX_LOCALE","selectedValidation":"ONLY_NUMERIC"},"customAttribute":[{"attribute":"placeholder","value":"$component.nls.year"},{"attribute":"aria-label","value":"$component.nls.year","colon":true}],"isRequiredField":true,"valueClasses":"''","grid":{"layout":true,"flexItemClass":"oj-sm-1","flexItemsPad":true},"componentID":"'Year38'","type":"InputBox"},{"nameholder":"Month","mappedValue":"month","use":"ObservableVariable","selectionType":"One","isReadOnly":true,"optionList":{"optionSource":"external","options":"tenureMonths","labelKey":"displayValue","valueKey":"value"},"customAttribute":[{"attribute":":placeholder","value":"$component.nls.month"},{"attribute":"aria-label","value":"$component.nls.month","colon":true}],"isRequiredField":true,"valueClasses":"''","grid":{"layout":true,"flexItemClass":"oj-sm-1","flexItemsPad":true},"componentID":"'Month79'","type":"SelectOne"},{"customAttribute":[{"attribute":"class","value":"'oj-sm-4'"}],"containerType":"NormalContainer","template":"Container","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"Container72","type":"Container","children":[{"nameholder":"Do you have any specific instructions for us?","valueClasses":"''","tagType":"Label","textBindingOption":"NLS","grid":{"flex":true,"layout":true,"flexItemClass":"oj-sm-12","flexItemsPad":true},"componentID":"Doyouhaveanyspecificinstructionsforus25","type":"Text"},{"nameholder":"Specify your instructions","rest":"/loanApplications","method":"post","mappedValue":".loanRequirements.remarks","payloadPrefix":"payload","use":"PayloadProperty","isReadOnly":true,"validationExpression":{"validationType":"DATA_TYPES","selectedValidation":"ALPHANUMERIC_WITH_SOME_SPECIAL","minLength":"0","maxLength":"80","message":"Invalid comments"},"customAttribute":[{"attribute":"placeholder","value":"$component.nls.specifyYourInstructions"},{"attribute":"aria-label","value":"$component.nls.specifyYourInstructions","colon":true}],"valueClasses":"''","grid":{"layout":true,"flexItemClass":"oj-sm-12","flexItemsPad":true},"componentID":"'Specifyyourinstructions60'","type":"InputBox"}]},{"nameholder":"loans/change-credit-facility","use":"Create","isReadOnly":true,"containerType":"Partial","template":"Container","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"loanschangecreditfacility43","type":"Container","children":[{"nameholder":"Change Facility","selectionType":"custom","hookFunctions":{"code":"self.loadFacilityChangeDetails();"},"extraDetails":"help-button change-facility-button","buttonName":"custom","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"'ChangeFacility16'","type":"Button"}]},{"nameholder":"Next","selectionType":"custom","hookFunctions":{"code":" if (!params.baseModel.showComponentValidationErrors(document.getElementById(\"creditFacilityTracker\"))) {\n    return false;\n }\nelse{\n  self.setPayloadData();\n  self.payload.applicationDetails.facilityDTO = [];\n  self.payload.applicationDetails.facilityDTO.push({id :self.liabilityId() ,liabilityId:self.facilityDetails().lineCodeNew});\n  \n  setExtraParams({\n    facilityDetails:self.facilityDetails(),\n    result:self.result(),\n    data: params.rootModel.payload && params.rootModel.payload ? params.rootModel.payload :null,\n    refId : self.refId()\n    \n    \n  });\n  \n  \nreturn true;\n}"},"contract":{"label":"Continue","icon":"icons icon-submit"},"imgSource":"icons icon-forward-arrow","buttonName":"primary","valueClasses":"''","slotType":"startIcon","grid":{"flexItemsPad":true},"componentID":"Next26","type":"Contract"},{"nameholder":"Draft","selectionType":"custom","hookFunctions":{"code":"self.openDraftModal();\nreturn true;"},"contract":{"label":"Save as Draft","icon":"icons icon-save"},"imgSource":"icons icon-save","buttonName":"secondary","valueClasses":"''","slotType":"startIcon","grid":{"flexItemsPad":true},"componentID":"Draft25","type":"Contract"},{"nameholder":"Back","selectionType":"custom","imgSource":"icons icon-back-arrow","buttonName":"secondary","valueClasses":"''","slotType":"startIcon","grid":{"flexItemsPad":true},"componentID":"Back12","type":"Contract"},{"nameholder":"Cancel","selectionType":"cancel","imgSource":"icons icon-cancel","buttonName":"tertiary","valueClasses":"''","slotType":"startIcon","grid":{"flexItemsPad":true},"componentID":"Cancel67","type":"Contract"},{"nameholder":"Choose Facility","isReadOnly":true,"containerType":"ModalWindow","template":"chooseFacility","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"ChooseFacility94","type":"Container","children":[{"isReadOnly":true,"customAttribute":[{"attribute":"template","value":"{ name: 'loans/loan-change-facility'}"}],"containerType":"NormalContainer","template":"Container","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"Container2","type":"Container","children":[]}]},{"nameholder":"Save as Draft","isReadOnly":true,"containerType":"ModalWindow","template":"saveDraft","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"SaveasDraft20","type":"Container","children":[{"isReadOnly":true,"customAttribute":[{"attribute":"template","value":"{ name: 'loans/loan-save-as-draft'}"}],"containerType":"NormalContainer","template":"Container","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"Container33","type":"Container","children":[]}]}]}]},{"restFlow":"[{\"rests\":[\"/contents post Default_API v1 uploadfile\"],\"child\":[]},{\"rests\":[\"/contents/{contentId} delete Default_API v1\"],\"child\":[]},{\"rests\":[\"/processManagement post Default_API v1\"],\"child\":[]},{\"rests\":[\"/me/party get Default_API v1\"],\"child\":[]},{\"rests\":[\"/purposes/{moduleType} get Default_API v1\"],\"child\":[]},{\"rests\":[\"/products/loan get Default_API v1\"],\"child\":[]},{\"rests\":[\"/products/loan/{productCode}/segments get Default_API v1\"],\"child\":[]},{\"rests\":[\"/contents/{contentId} get Default_API v1\"],\"child\":[]},{\"rests\":[\"/liabilities get Default_API v1\"],\"child\":[]}]","data":{"externalMappedParams":[{"rest":"/contents","method":"post","restOperation":"uploadfile","reqParams":[],"optParams":[],"payloadMap":{}}],"initRests":["/products/loan/{productCode}/segments get Default_API v1"],"css":".documentName{\n  \tmargin-top: 0.5rem;\n    display: inline-block;\n    @include single-padding(right,0.2rem);\n}","customNLS":"{\n  upload: \"Upload\",\n      draftName:\"Draft Name\",\n    goToApplicationTracker:\"Go To Application Tracker\",\n                newLoanDrawdownRequest : \"New Loan Drawdown Request\",\n                link:{\n                    newLoanDrawdownRequest : \"New Loan Drawdown Request\",\n                    goToApplicationTracker:\"Go To Application Tracker\"\n                },\n                referenceNumber: \"Reference Number\",\n                enterDraftName:\"Enter Draft Name\",\n                save:\"Save\",\n                cancel:\"Cancel\",\n                Savedrequest:\"Saved request can be retrieved from Application Tracker.\",\n  draftSuccessMessage:\"Loan Drawdown Request saved successfully.\",\n    emptyFileErrorMsg: \"The uploaded file is empty, Please upload a valid file.\",\n                fileSizeErrorMsg: \"The uploaded file exceeds the maximum permissible size of 1 MB. Please reduce the file size and try again.\",\n                fileTypeError: \"Invalid file type. Upload TXT, PNG, XLSX, DOC, PDF, JPEG, JPG files only.\"\n}","componentHeader":"Loan Drawdown Request","validationTrackerID":"'loanDrawdownUploadTracker'","stageName":"UploadDocuments","contracts":[{"buttonName":"primary","imgSource":"icons icon-submit","nameholder":"Submit","selectionType":"custom","functionName":"submit","slotType":"startIcon"},{"buttonName":"primary","imgSource":"icons icon-save","nameholder":"Draft","selectionType":"custom","functionName":"draft","slotType":"startIcon"},{"buttonName":"secondary","imgSource":"icons icon-back-arrow","nameholder":"Back","selectionType":"custom","functionName":"back","slotType":"startIcon"},{"buttonName":"tertiary","imgSource":"icons icon-cancel","nameholder":"Cancel","selectionType":"cancel","functionName":"cancel","slotType":"startIcon"}]},"layout":[{"nameholder":"Upload Documents","hidePageHeading":true,"valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"UploadDocuments60","type":"PageSection","children":[{"nameholder":"Listed documents are required to process your application.","valueClasses":"''","tagType":"Div","textBindingOption":"NLS","grid":{"flex":true,"layout":true,"flexItemClass":"oj-lg-12","flexItemsPad":true},"componentID":"Listeddocumentsarerequiredtoprocessyourapplication39","type":"Text"},{"nameholder":"Upload Documents","mappedValue":"document.attachedDocuments","use":"ObservableVariable","source":"dataSource70","template":"upload_Button","idAttribute":"id","valueClasses":"''","grid":{"flex":true,"layout":true,"flexItemsPad":true},"componentID":"'UploadDocuments56'","type":"ListView"},{"nameholder":"Note: Each document should not be more than 1MB. Supported file types: TXT, PNG, XLSX, DOC, PDF, JPEG, JPG.","valueClasses":"''","tagType":"Label","textBindingOption":"NLS","grid":{"flex":true,"layout":true,"flexItemsPad":true},"componentID":"NoteEachdocumentshouldnotbemorethan1MBSupportedfiletypesTXTPNGXLSXDOCPDFJPEGJPG40","type":"Text"},{"isReadOnly":true,"containerType":"View","template":"upload_Button","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"upload_Button35","type":"Container","children":[{"nameholder":"Supporting Document Name","mappedValue":"description","use":"ListTreeViewValue","valueClasses":"''","tagType":"Div","textBindingOption":"Bindings","grid":{"flex":true,"layout":true,"flexItemClass":"oj-sm-4 oj-label-inline","flexItemsPad":true},"componentID":"SupportingDocumentName66","type":"Text"},{"nameholder":"Upload","selectionType":"'single'","isReadOnly":true,"hookFunctions":{"chains":["/contents post v1 uploadfile"],"code":"\n            const files = event.detail.files[0];\nif(self.validateFile(files))\n\n            {\n\n            const formData = new FormData();\n\n            formData.append(\"file\", files);\n            formData.append(\"transactionType\", \"MO\");\nformData.append(\"moduleIdentifier\", \"LOAN\");\n            formData.append(\"fileCount\", 1);\n\n            contentspostCall(formData).then(function (response) {\n                if (response.contentDTOList.length && response.contentDTOList[0] && response.contentDTOList[0].contentId) {\n                  self.document.attachedDocuments()[self.documentsListMap[data.id]].fileName(files.name);\n\t\t\tself.document.attachedDocuments()[self.documentsListMap[data.id]].documentType(files.name.split(/[\\.]/)[1]);  \n                  self.document.attachedDocuments()[self.documentsListMap[data.id]].contentId(response.contentDTOList[0].contentId);\n                }\n            });}\n        "},"conditionalExpression":{"conditionalValue":"!$context.data.contentId()"},"customAttribute":[{"attribute":"required","value":"$context.data.mandatory"},{"attribute":"id","value":"$context.data.id","colon":true}],"isRequiredField":true,"extraDetails":"['.pdf','.jpg','.png','.pdf','.zip','.doc','.txt']","valueClasses":"''","grid":{"layout":true,"flexItemClass":"oj-sm-3","flexItemsPad":true},"componentID":"'Upload60'","type":"FilePicker"},{"containerType":"NormalContainer","template":"Container","valueClasses":"''","grid":{"layout":true,"flexItemsPad":true},"componentID":"Container92","type":"Container","children":[{"nameholder":"Document Name","mappedValue":"$context.data.fileName()","use":"ObservableVariable","conditionalExpression":{"conditionalValue":"$context.data.contentId()"},"customAttribute":[{"attribute":"class","value":"'documentName'"}],"valueClasses":"''","tagType":"Span","textBindingOption":"Bindings","grid":{"flexItemsPad":true},"componentID":"DocumentName67","type":"Text"},{"nameholder":"Remove","hookFunctions":{"chains":["/contents/{contentId} delete v1"],"code":"contentscontentIddeleteCall(data.contentId().value,\"MO\").then(function(){\n                              \n    data.fileName(null);\n  data.contentId(null);\n                  })\n"},"conditionalExpression":{"conditionalValue":"$context.data.contentId()"},"customAttribute":[{"attribute":"class","value":"'oj-label-inline'"}],"extraDetails":"icon-cancel","anchorType":"Icon","anchorAltTitle":"Remove","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"Remove26","type":"AnchorTag"}]}]},{"nameholder":"Submit","selectionType":"custom","hookFunctions":{"code":"if (!params.baseModel.showComponentValidationErrors(document.getElementById(\"loanDrawdownUploadTracker\"))) {\nreturn false;\n}\nself.payload.applicantOtherDetails.documentsList([]);\nfor (let m = 0; m < self.document.attachedDocuments().length; m++) {\n  if(self.document.attachedDocuments()[m].fileName()){\n                    self.payload.applicantOtherDetails.documentsList.push({\n                        documentName: self.document.attachedDocuments()[m].fileName().split(/[\\.]/)[0],\n                        documentType: self.document.attachedDocuments()[m].documentType(),\n                        documentId: self.document.attachedDocuments()[m].contentId(),\n                      id: self.document.attachedDocuments()[m].id,\n                            description: self.document.attachedDocuments()[m].description\n                    });\n  }\n                }\nsetExtraParams({ \n                                       document: self.document,\n                    documentsListMap: self.documentsListMap\n                                       \n                                      });\n\n                return true;"},"imgSource":"icons icon-submit","buttonName":"primary","valueClasses":"''","slotType":"startIcon","grid":{"flexItemsPad":true},"componentID":"Submit33","type":"Contract"},{"nameholder":"Draft","selectionType":"custom","hookFunctions":{"code":"self.openDraftModal();\nreturn true;"},"contract":{"label":"Save as Draft","icon":"icons icon-save"},"imgSource":"icons icon-save","buttonName":"secondary","valueClasses":"''","slotType":"startIcon","grid":{"flexItemsPad":true},"componentID":"Draft8","type":"Contract"},{"nameholder":"Back","selectionType":"custom","imgSource":"icons icon-back-arrow","buttonName":"secondary","valueClasses":"''","slotType":"startIcon","grid":{"flexItemsPad":true},"componentID":"Back50","type":"Contract"},{"nameholder":"Cancel","selectionType":"cancel","imgSource":"icons icon-cancel","buttonName":"tertiary","valueClasses":"''","slotType":"startIcon","grid":{"flexItemsPad":true},"componentID":"Cancel4","type":"Contract"},{"nameholder":"Save as Draft","containerType":"ModalWindow","template":"saveDraftModal","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"SaveasDraft48","type":"Container","children":[{"customAttribute":[{"attribute":"template","value":"{ name: 'loans/loan-save-as-draft'}"}],"containerType":"NormalContainer","template":"Container","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"Container6","type":"Container","children":[]}]}]}]}],"reviewComponents":[{"finalRest":"{\"rests\":[\"/loanApplications post Default_API v1\"],\"child\":[]}","restFlow":"[{\"rests\":[\"/liabilities/{liabilityId}/facilities/{Id} get Default_API v1\"],\"child\":[]},{\"rests\":[\"/purposes/{moduleType} get Default_API v1\"],\"child\":[]},{\"rests\":[\"/products/loan get Default_API v1\"],\"child\":[]},{\"rests\":[\"/products/loan/{productCode}/segments get Default_API v1\"],\"child\":[]},{\"rests\":[\"/processManagement/{refId} delete Default_API v1\"],\"child\":[]}]","data":{"externalMappedParams":[],"initRests":[],"css":"","finalRestMappedParams":[{"rest":"/loanApplications","method":"post","restOperation":null,"reqParams":[],"optParams":[],"payloadMap":{}}],"customNLS":"{\n\t\t\t\theader: \"Review\",\n                  succeesMessage:\"Loan Drawdown Request submitted successfully\",\n                referenceNumber:\"Host Reference Number\",\n                goToApplicationTracker: \"Go To Application Tracker\",\n                newLoanDrawdownRequest: \"New Loan Drawdown Request\",\n                link: {\n                    newLoanDrawdownRequest: \"New Loan Drawdown Request\",\n                    goToApplicationTracker: \"Go To Application Tracker\"\n                },\n                  confirmScreen: {\n                    approvalMessages: {\n                        Initiated: {\n                            successmsg: \"Loan Drawdown application has been initiated successfully.\",\n                            statusmsg: \"Pending for approval\"\n                        },\n                        PENDING_APPROVAL: {\n                            successmsg: \"Loan Drawdown application has been approved. It is pending for further approval.\",\n                            statusmsg: \"Pending Approval\"\n                        },\n                        Completed: {\n                            successmsg: \"Loan Drawdown application submitted successfully.\",\n                            statusmsg: \"Completed\"\n                        },\n                        APPROVED: {\n                            successmsg: \"Loan Drawdown application submitted successfully.\",\n                            statusmsg: \"Completed\"\n                        },\n                        REJECTED: {\n                            successmsg: \"Loan Drawdown application has been rejected.\",\n                            statusmsg: \"Rejected\"\n                        },\n                        FAILED: {\n                            successmsg: \"Rejected by host.\",\n                            statusmsg: \"Failed\"\n                        }\n                    }\n                },\n                  termErrorMessage :\"Please select Terms and Conditions\",\n                  tenure :\"{year} year(s) {month} month(s)\" ,\n                reviewHeader: \"You initiated a request for Loan Drawdown. Please review details before you confirm!\"\n}","confirmScreenDetails":{"transactionName":"Loan Drawdown Request","templateName":null},"header":"Loan Drawdown Request","reviewHeader":"Review","contracts":[{"buttonName":"primary","imgSource":"icons icon-confirm","nameholder":"Confirm","selectionType":"custom","functionName":"confirm","slotType":"startIcon"},{"buttonName":"secondary","imgSource":"icons icon-back-arrow","nameholder":"Back","selectionType":"custom","functionName":"back","slotType":"startIcon"},{"buttonName":"tertiary","imgSource":"icons icon-cancel","nameholder":"Cancel","selectionType":"cancel","functionName":"cancel","slotType":"startIcon"}]},"layout":[{"nameholder":"Drawdown Requirement","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"DrawdownRequirement19","type":"PageSection","children":[{"selectionType":"singleComponent","conditionalExpression":{"conditionalValue":"facilityDetails()"},"loaderType":"Component","moduleName":"loans","componentName":"'loan-facility-details'","params":"facilityDetails : $data.facilityDetails()","template":"Loader","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"Loader85","type":"Loader"},{"customAttribute":[{"attribute":"css","value":"'child-panel'"}],"containerType":"NormalContainer","template":"Container","valueClasses":"''","componentID":"Container76","type":"Container","children":[{"nameholder":"Loan Type","mappedValue":"product()","use":"ObservableVariable","valueClasses":"''","componentID":"LoanType92","type":"RowControl"},{"nameholder":"Purpose of Loan","mappedValue":"purposeText()","use":"ObservableVariable","valueClasses":"''","componentID":"PurposeofLoan41","type":"RowControl"},{"nameholder":"Drawdown Amount","mappedValue":"payload.loanRequirements.loanAmount.amount","use":"ObservableVariable","formatter":{"formatterType":"formatCurrency","currency":"payload.loanRequirements.loanAmount.currency"},"valueClasses":"''","componentID":"DrawdownAmount60","type":"RowControl"},{"nameholder":"Drawdown Tenor","mappedValue":"tenure()","use":"ObservableVariable","valueClasses":"''","componentID":"DrawdownTenor8","type":"RowControl"},{"nameholder":"Instructions","mappedValue":"payload.loanRequirements.remarks","use":"ObservableVariable","valueClasses":"''","componentID":"Instructions85","type":"RowControl"}]}]},{"nameholder":"Upload Documents","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"UploadDocuments79","type":"PageSection","children":[{"nameholder":"Upload Documents","mappedValue":"document.attachedDocuments","use":"ObservableVariable","isReadOnly":true,"source":"dataSource70","template":"upload_Button","idAttribute":"id","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"'UploadDocuments54'","type":"ListView"},{"customAttribute":[{"attribute":"css","value":"'child-panel'"}],"containerType":"NormalContainer","template":"Container","valueClasses":"''","componentID":"Container73","type":"Container","children":[{"nameholder":"Upload Document List","mappedValue":"document1.attachedDocuments","use":"ObservableVariable","source":"dataSource71","template":"upload_Button","idAttribute":"id","valueClasses":"''","componentID":"'UploadDocumentList78'","type":"ListView"}]},{"containerType":"View","template":"upload_Button","valueClasses":"''","grid":{"flexItemsPad":true},"componentID":"upload_Button18","type":"Container","children":[{"customAttribute":[{"attribute":"class","value":"'oj-flex'"}],"containerType":"NormalContainer","template":"Container","valueClasses":"''","componentID":"Container34","type":"Container","children":[{"nameholder":"Supporting Document Name","mappedValue":"description","use":"ListTreeViewValue","isReadOnly":true,"customAttribute":[{"attribute":"class","value":"'oj-flex-item oj-sm-2'"}],"valueClasses":"''","tagType":"Label","textBindingOption":"Bindings","grid":{"flexItemsPad":true},"componentID":"SupportingDocumentName22","type":"Text"},{"nameholder":"Document Name","mappedValue":"$context.data.fileName","use":"ObservableVariable","isReadOnly":true,"customAttribute":[{"attribute":"class","value":"'oj-flex-item'"}],"valueClasses":"''","tagType":"Div","textBindingOption":"Bindings","grid":{"flexItemsPad":true},"componentID":"DocumentName76","type":"Text"}]}]},{"nameholder":"Terms and Conditions","containerType":"ModalWindow","template":"termsConditions","valueClasses":"''","componentID":"TermsandConditions98","type":"Container","children":[{"nameholder":"In these General Conditions the singular includes the plural and vice versa and Loan means the loan detailed overleaf or, as the case may require, the balance thereof from time to time outstanding. In the event of a conflict between these General Conditions and the Special Conditions, the Special Conditions shall prevail.","customAttribute":[{"attribute":"class","value":"'oj-flex oj-flex-items-pad'"}],"valueClasses":"''","tagType":"Div","textBindingOption":"NLS","componentID":"IntheseGeneralConditionsthesingularincludesthepluralandviceversaandLoanmeanstheloandetailedoverleaforasthecasemayrequirethebalancethereoffromtimetotimeoutstandingIntheeventofaconflictbetweentheseGeneralConditionsandtheSpecialConditionstheSpecialConditionsshallprevail20","type":"Text"},{"containerType":"ButtonContainer","template":"Container","valueClasses":"''","componentID":"Container69","type":"Container","children":[{"nameholder":"Ok","selectionType":"custom","hookFunctions":{"code":"self.closeHandler();"},"imgSource":"icons icon-submit","buttonName":"primary","valueClasses":"''","slotType":"startIcon","componentID":"'Ok72'","type":"Button"}]}]}]},{"nameholder":"Terms and conditions","hidePageHeading":true,"hidePageSection":true,"valueClasses":"''","componentID":"Termsandconditions14","type":"PageSection","children":[{"customAttribute":[{"attribute":"class","value":"'oj-flex oj-flex-items-pad'"}],"containerType":"NormalContainer","template":"Container","valueClasses":"''","componentID":"Container7","type":"Container","children":[{"nameholder":"Terms and conditions","hookFunctions":{"code":" $(\"#termsConditions\").trigger(\"openModal\");"},"conditionalExpression":{"conditionalValue":"$component.mode !== 'readonly'"},"customAttribute":[{"attribute":"class","value":"'oj-flex-item oj-sm-12'"}],"anchorType":"Text","anchorAltTitle":"Terms and conditions","valueClasses":"''","componentID":"Termsandconditions46","type":"AnchorTag"},{"customAttribute":[{"attribute":"class","value":"'oj-flex-item'"}],"containerType":"NormalContainer","template":"Container","valueClasses":"''","componentID":"Container92","type":"Container","children":[{"nameholder":"term","hideLabel":true,"mappedValue":"isTermSelected","use":"ObservableVariable","optionList":{"optionSource":"custom","options":[{"value":"true","description":"I agree to the Terms and conditions"}]},"conditionalExpression":{"conditionalValue":"$component.mode !== 'readonly'"},"customAttribute":[{"attribute":"value","value":"$component.isTermSelected","bracket":true}],"isRequiredField":true,"valueClasses":"''","componentID":"'term98'","type":"CheckBox"}]}]},{"conditionalExpression":{"conditionalValue":"$component.getStageState(\"loan-drawdown-review\").rawApprovalData && $component.getStageState(\"loan-drawdown-review\").rawApprovalData.fromTracker"},"containerType":"ButtonContainer","template":"Container","valueClasses":"''","componentID":"Container38","type":"Container","children":[{"nameholder":"Cancel","selectionType":"cancel","imgSource":"icons icon-cancel","buttonName":"secondary","valueClasses":"''","slotType":"startIcon","componentID":"'Cancel19'","type":"Button"},{"nameholder":"Back","selectionType":"custom","hookFunctions":{"code":"self.back();"},"imgSource":"icons  icon-back-arrow","buttonName":"tertiary","valueClasses":"''","slotType":"startIcon","componentID":"'Back74'","type":"Button"}]},{"nameholder":"Confirm","selectionType":"custom","hookFunctions":{"code":"if(!self.isTermSelected()[0]){\nparams.baseModel.showMessages(null, [self.nls.termErrorMessage], \"ERROR\");\n   return;\n   }\n\n Hooks.loanApplicationspostCall(ko.mapping.toJSON(self.payload)).then(function (response) {\n                         if (self.getStageState(\"loan-drawdown-stage1\") && self.getStageState(\"loan-drawdown-stage1\").refId) {\n                        Hooks.processManagementrefIddeleteCall(self.getStageState(\"loan-drawdown-stage1\").refId).then(function () {\n                             self.loadConfirmScreen(response);\n                         });\n                    }\n                    else{\n                        self.loadConfirmScreen(response);\n                    }\n                    });"},"imgSource":"icons icon-confirm","buttonName":"primary","valueClasses":"''","slotType":"startIcon","grid":{"flexItemsPad":true},"componentID":"Confirm43","type":"Contract"},{"nameholder":"Back","selectionType":"custom","imgSource":"icons icon-back-arrow","buttonName":"secondary","valueClasses":"''","slotType":"startIcon","grid":{"flexItemsPad":true},"componentID":"Back98","type":"Contract"},{"nameholder":"Cancel","selectionType":"cancel","imgSource":"icons icon-cancel","buttonName":"tertiary","valueClasses":"''","slotType":"startIcon","grid":{"flexItemsPad":true},"componentID":"Cancel95","type":"Contract"}]}]}],"confirmationComponents":[]}