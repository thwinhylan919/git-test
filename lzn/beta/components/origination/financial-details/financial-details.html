<div data-bind="descendantsComplete : $component.initializeAccordion">
    <div class="form-main-container">
        <!-- ko if: showComponents() -->
        <div class="accordion" data-bind="attr:{id:'financialDetailsAccordion'+$index()}">
            <!-- ko foreach: $component.productDetails().application().currentApplicationStage.stages -->
            <div class="card  ">
                <div class="card-header oj-flex oj-flex-items-pad">
                    <div class="oj-flex-item oj-sm-1 oj-md-1 oj-lg-1">
                        <div class="accordion-strip"></div>
                        <div class="oj-sm-only-hide card-icon-container"><img class="card-icon" data-bind="loadImage:'origination/accordion/'+$data.id+'.png',attr:{'alt':$baseModel.format($component.resource.image,{accordionLogo:$component.accordionNames.accordionNames[$data.name]})}"></div>
                    </div>

                    <h3 class="card-title oj-flex-item oj-sm-9 oj-md-8 oj-lg-8" data-bind="text: $component.accordionNames.accordionNames[$data.name]"></h3>
                    <!-- ko if: !$data.isComplete() -->
                    <div class="oj-flex-item oj-sm-2 oj-md-3 oj-lg-3">
                        <a href="#" class="icon icon-arrow-right pull-right section-icon collapse-icon" data-bind="attr:{alt: $component.resource.personalDetails.iconClick, title: $component.resource.personalDetails.iconClickTitle}"></a>
                    </div>
                    <!-- /ko -->
                    <!-- ko if: $data.isComplete() -->
                    <div class="oj-flex-item oj-sm-2 oj-md-3 oj-lg-3">
                        <span class="icon icon-success section-icon pull-right done-icon"></span>
                    </div>
                    <!-- /ko -->
                </div>
                <div class="">
                    <div class="card-body" data-bind="component: { name: $data.id, params: { rootModel: $parent,
                                                    applicantObject :$component.applicantDetails()[$component.finTempSequenceNumber-2],
                                                    applicantAccordion:$component.productDetails().application().currentApplicationStage.applicantAccordion,
                                                    applicantStages: $component.productDetails().application().currentApplicationStage.stages[$index()],
                                                    empProfileIds: $component.employmentProfileIds,
                                                    index:$index()
                                              }}">
                    </div>
                </div>

            </div>
            <!-- /ko  -->

        </div>
        <!-- /ko -->
    </div>
</div>